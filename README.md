# Grid-Following Inverter (GFL): บทบาทสำคัญในการบูรณาการพลังงานหมุนเวียน  

---

## 1. ปัญหาก่อนการมาถึงของ Grid-Following Inverter  

ก่อนที่จะมีการพัฒนาอินเวอร์เตอร์ประเภท Grid-Following (GFL) ระบบไฟฟ้ากำลังพึ่งพาเครื่องจักรกลไฟฟ้าแบบดั้งเดิม เช่น **Synchronous Generator (SG)** เป็นตัวหลักในการผลิตพลังงานไฟฟ้า เครื่องกำเนิดเหล่านี้ไม่เพียงแต่สร้างกำลังไฟฟ้าเท่านั้น แต่ยังมีคุณสมบัติสำคัญคือสามารถ **กำหนดความถี่และแรงดันของระบบ** ได้โดยตรง ทำให้ระบบไฟฟ้ามีเสถียรภาพโดยธรรมชาติ  

แต่เมื่อโลกเริ่มหันมาใช้ **พลังงานหมุนเวียน (Renewable Energy)** อย่างโซลาร์เซลล์และกังหันลม ปัญหาหลักที่เกิดขึ้นคือ แหล่งพลังงานเหล่านี้ไม่สามารถเชื่อมต่อเข้ากับระบบไฟฟ้าได้โดยตรง เนื่องจากกำลังไฟฟ้าที่ผลิตออกมามีความผันผวน ขึ้นอยู่กับสภาพอากาศ แสงแดด และความเร็วลม  

อีกทั้งอุปกรณ์แปลงไฟที่จำเป็นคือ **Power Electronics (อินเวอร์เตอร์)** นั้น ไม่ได้มีคุณสมบัติ “สร้างความถี่และแรงดัน” ได้เหมือน synchronous machine อินเวอร์เตอร์เพียงอย่างเดียวจึงไม่สามารถกำหนดจังหวะ (synchronization) ของระบบได้ หากไม่มีกริดหลักอยู่ก่อนแล้ว  

ดังนั้น หากต้องการให้โซลาร์ฟาร์มหรือวินด์ฟาร์มสามารถส่งไฟฟ้าเข้าสู่ระบบได้อย่างราบรื่น จึงจำเป็นต้องมี **กลไกควบคุมที่ทำให้อินเวอร์เตอร์สามารถ “ตาม” กริดที่มีอยู่** ได้อย่างถูกต้อง และนี่คือที่มาของ **Grid-Following Inverter (GFL)**  

---

## 2. Grid-Following Inverter คืออะไร?  

<img src="Fig%20material/GFL_overview.png" alt="Diagram" width="700">

**Grid-Following Inverter (GFL)** เป็นกลยุทธ์การควบคุมที่ใช้กับอินเวอร์เตอร์ในระบบผลิตไฟฟ้าจากพลังงานหมุนเวียน เช่น **โซลาร์เซลล์ (PV), กังหันลม (Wind Turbine) หรือ ระบบกักเก็บพลังงานด้วยแบตเตอรี่ (Battery Energy Storage)** อินเวอร์เตอร์เหล่านี้จะทำงานโดยการ ซิงโครไนซ์ (synchronize) ตัวเองกับกริดที่มีอยู่ 

คุณลักษณะหลักของ GFL ได้แก่:  

- อินเวอร์เตอร์จะปรับแรงดันและความถี่ให้อ้างอิงตามกริดที่เชื่อมต่อ ณ **จุดเชื่อมต่อร่วม (Point of Common Coupling: PCC)**
- ทำหน้าที่เสมือน **แหล่งจ่ายกระแส (Current Source)** ที่พึ่งพาความเสถียรและสัญญาณควบคุมจากกริด  
- **เหมาะกับระบบที่ยังคงมี synchronous generator หรือ Grid-Forming device อยู่** เพราะอินเวอร์เตอร์เพียงอย่างเดียวไม่สามารถกำหนดจังหวะการทำงานของระบบได้  
- **ใช้กันแพร่หลาย**: อินเวอร์เตอร์สำหรับโซลาร์รูฟท็อป โซลาร์ฟาร์ม หรือวินด์ฟาร์ม ส่วนใหญ่เป็น GFL เนื่องจากมีต้นทุนต่ำและโครงสร้างควบคุมที่เข้าใจง่าย  

ดังนั้น Grid-Following Inverter จึงเหมาะสมกับระบบที่ยังคงมีแหล่งผลิตไฟฟ้าหลักอย่าง synchronous machine หรือ grid-forming inverter เป็นตัวกำหนดแรงดันและความถี่  

---

## 3. หลักการควบคุมของ GFL  

![Grid-Following Inverter control diagram](Fig%20material/GFL%20diagram.png)
หลักการทำงานของ Grid-Following Inverter มักอธิบายผ่านโครงสร้างการควบคุม (control structure) ที่แบ่งออกเป็น 3 ชั้นหลัก ๆ ดังนี้:  

1. **การตรวจจับเฟสด้วย Phase-Locked Loop (PLL)**  
   - PLL มีหน้าที่ตรวจจับมุมเฟสและความถี่ของแรงดันกริดแบบเรียลไทม์  
   - ทำให้มั่นใจว่าอินเวอร์เตอร์จะจ่ายไฟออกมาในเฟสเดียวกับแรงดันของกริด  
   - หากไม่มี PLL อินเวอร์เตอร์อาจฉีดกำลังไฟฟ้าในเฟสที่ผิดพลาด ทำให้เกิดการสั่นหรือการปฏิเสธการเชื่อมต่อ  

2. **วงจรควบคุมกำลัง (Outer Control Loop)**

<img src="Fig%20material/Power_control_diagram.png" alt="Diagram" width="600">
   กำลังไฟฟ้าจริงและกำลังรีแอกทีฟสามารถคำนวณบนแกน dq ผ่านสมการ
   <p>
      $$
      P^* = \frac{3}{2}(V_d I_d+V_q I_q) \quad Q^* = \frac{3}{2}(V_q I_d- V_d I_q)
      $$
   </p>
   โดยที่:

   - $P^* ,Q^*$ = ค่ากำลังจริงและกำลังรัแอกทีฟของระบบ
   - $V_{dq},I_{dq}$ = แรงดันและกรแสบนแกน dq

   จากกำลังที่วัดได้จะเปลี่ยนเป็นกระแสอ้างอิงบนแกน dq ผ่านสมการ
   <p>
      $$
      I_{d_{ref}} = P_{ref}-P^**(K_p+\frac{K_i}{s}) \quad I_{q_{ref}} = Q_{ref}-Q^**(K_p+\frac{K_i}{s})
      $$
   </p>
   โดยที่:

   - $P_{ref},Q_{ref}$ = ค่ากำลังจริงและกำลังรีแอกทีฟอ้างอิง
   - $I_{d_{ref}},I_{q_{ref}}$ = ค่ากระแสอ้างอิงบนแกน dq
   ผู้ควบคุมสามารถกำหนดค่าการส่งออก เช่น ต้องการจ่ายพลังงานจริงสูงสุด (จากแสงอาทิตย์) และรักษา Q = 0 หรือใช้ Q เพื่อสนับสนุนแรงดันในระบบ  

4. **วงจรควบคุมกระแส (Inner Control Loop)**
<img src="Fig%20material/GFL_Current_loop.png" alt="Diagram" width="600">
   อินเวอร์เตอร์ควบคุมกระแสให้อยู่ตามค่าที่ได้จาก Power Control loop โดยกระแสจะถูกแปลงไปอยู่ในแกน dqเพื่อความสะดวกในการควบคุม โดยแกน d มักใช้ควบคุมกำลังจริง (P) และแกน q มักใช้ควบคุมกำลังรีแอกทีฟ (Q)โดยจะคำนวณได้จากสมการ:
   <p>
      $$
      U_d=(V_d+(I_{d_{ref}}-I_d)*(K_{pd}+\frac{K_{id}}{s})-I_q\omega L) \quad U_q=(V_q+(I_{q_{ref}}-I_q)*(K_{pq}+\frac{K_{iq}}{s})-I_d\omega L)
      $$
   </p>
   โดยที่:
   
   - $K_{pd}, K_{id}, K_{pq}, K_{iq}$ = ค่าพารามิเตอร์ของ PI controller
   - $I_q\omega L,I_d\omega L$ = ค่า cross-coupling term ที่ถูกชดเชย
 
   หลังจากนั้นจึงถูกส่งต่อไปยังวงจร PWM เพื่อสร้างสัญญาณควบคุมสวิตช์ของอินเวอร์เตอร์  

กล่าวโดยรวม **ลำดับการควบคุมคือ**: PLL → Outer Loop (P/Q) → Inner Current Loop → PWM  

---

## 4. GFL ในงานวิจัย

Grid-Following Inverter แม้จะไม่สามารถสร้างแรงดันและความถี่เองได้ แต่ก็มีบทบาทสำคัญในการบูรณาการพลังงานหมุนเวียนและแก้ปัญหาหลายด้าน<br>
<p>
   
   งานวิจัยจาก National Renewable Energy Laboratory (NREL) ได้นำ GFL มาทดสอบร่วมกับ **Grid-Forming Inverter (GFM)** ภายในระบบทดสอบมาตรฐาน IEEE 9-Bus Network ที่ถูกปรับให้เป็นระบบ ศูนย์เฉื่อย (Zero-Inertia System) — กล่าวคือไม่มี synchronous
   generator อยู่เลยในระบบ เพื่อจำลองสภาวะที่ระบบไฟฟ้าถูกขับเคลื่อนด้วยอินเวอร์เตอร์ทั้งหมด
   
   การทดลองมีจุดประสงค์เพื่อ:

   1. ประเมินความสามารถของ GFL ในการรักษาเสถียรภาพของระบบไฟฟ้าที่ไม่มีความเฉื่อยเชิงกล  
   2. เปรียบเทียบผลการตอบสนองของระบบเมื่อเปิดและปิด **Frequency Droop Grid Support** ใน GFL  
   3. วิเคราะห์พฤติกรรมของ GFL ในกรณีแรงดันตกหรือเกิดความผิดปกติ (fault ride-through)  

   ระบบที่ใช้ทดสอบประกอบด้วย:
   - GFM ที่บัส 1 และ 3 (แต่ละตัวขนาด 200 MVA)
   - GFL ที่บัส 2 (ขนาด 200 MVA)
   - โหลดที่บัส 5, 6, และ 8 จำลองเป็น constant power loads  
   - ระบบถูกกระตุ้นด้วยการเปลี่ยนโหลด (load step) 10% ที่บัส 6 เพื่อดูการตอบสนองของความถี่
     
   โดยสามารถสรุปผลลัพธ์จากการทดลองได้ดังนี้:
   
   <img src="Fig%20material/R1Fig.PNG" alt="Diagram" width="1200">   
   
   **1. การตอบสนองเมื่อปิดฟังก์ชัน Frequency Droop Support**  
   - เมื่อ GFL ทำงานในโหมดติดตามกำลัง (power setpoint tracking) โดย **ไม่เปิด droop support**  
     - กำลังที่ส่งออกของ GFL คงที่ตามค่าที่ตั้งไว้  
     - GFM ทั้งสองตัวต้องรับภาระการควบคุมสมดุลพลังงานในระบบ  
     - ความถี่ต่ำสุด (**nadir frequency**) อยู่ที่ **59.71 Hz**  
     - ระบบกลับสู่สมดุลภายในเวลา **≈ 0.9 วินาที**  
     - การสวิงของความถี่ (frequency oscillation) ดับลงได้เร็วกว่าเมื่อเทียบกับระบบที่มี synchronous generator ซึ่งต้องใช้เวลาประมาณ 7 วินาที  
     - แสดงให้เห็นว่า GFL มีการตอบสนองทางพลวัตที่รวดเร็ว และสามารถคงเสถียรภาพในระบบที่ไม่มีความเฉื่อยได้
   
   **2. การตอบสนองเมื่อเปิดฟังก์ชัน Frequency Droop Support**  
   - เมื่อเปิดใช้งาน droop control ให้ GFL สามารถปรับกำลังตามการเบี่ยงเบนของความถี่:
     - ความถี่ต่ำสุด (**nadir**) เพิ่มขึ้นจาก 59.71 → **59.76 Hz**  
     - ความถี่สุดท้ายหลังระบบกลับสู่สมดุล (**settling frequency**) เพิ่มเป็น **59.83 Hz**  
     - **Rate of Change of Frequency (ROCOF)** ลดลงจาก **2.7 Hz/s → 2.4 Hz/s**  
     - กำลังของ GFL ลดการสั่นของระบบโดยเฉพาะในช่วงแรกของการรบกวน  
     - หมายความว่า GFL ที่มี droop support สามารถช่วย “บรรเทา” การเปลี่ยนแปลงของความถี่ในระบบศูนย์เฉื่อยได้อย่างมีประสิทธิภาพ

   <img src="Fig%20material/R2Fig2.PNG" alt="Diagram" width="1200">  
   
   **3. การตอบสนองเมื่อเกิดความผิดปกติ (Fault Ride-Through Test)**  
   - เมื่อจำลองเหตุการณ์ลัดวงจรสามเฟส (3-phase fault) ที่บัสเชื่อมต่อของ GFL:  
     - อินเวอร์เตอร์ลดกำลังส่งออกชั่วขณะด้วยกลไก **Momentary Cessation** เมื่อแรงดันตกต่ำกว่า 0.5 p.u.  
     - หลังแรงดันฟื้นตัว จะ ramp กลับไปสู่ค่ากำลังปกติภายในเวลาประมาณ **1 วินาที**  
     - เมื่อเปิดใช้ **Low-Voltage Reactive Current Control**, อินเวอร์เตอร์สามารถฉีดกระแสรีแอกทีฟเพิ่มเติมเพื่อช่วยฟื้นแรงดัน  
     - ระบบกลับเข้าสู่สภาวะปกติภายใน **0.2 วินาที** หลังจากเหตุการณ์สิ้นสุด

   กล่าวโดยสรุป การทดสอบยืนยันว่า Grid-Following Inverter ไม่ได้เป็นเพียงอุปกรณ์ที่ “ตามกริด” เท่านั้น แต่ยังมีบทบาทสำคัญในการสนับสนุนเสถียรภาพของระบบไฟฟ้า ทั้งในด้านความถี่ แรงดัน และการตอบสนองต่อเหตุการณ์ผิดปกติ โดยเฉพาะในระบบที่มีสัดส่วนพลังงานหมุนเวียนสูงหรือไม่มีเครื่องกำเนิดไฟฟ้าแบบดั้งเดิมเลย ความสามารถของ GFL ในการทำงานร่วมกับ GFM จึงถือเป็นรากฐานสำคัญของระบบไฟฟ้ายุคใหม่ที่มุ่งสู่การใช้พลังงานสะอาด 100%
</p>

---

<p>
   
   งานวิจัยของ Kikusato และคณะ (2023) มีเป้าหมายเพื่อศึกษาพฤติกรรมของ **Grid-Following Inverter (GFL)** และ **Grid-Forming Inverter (GFM)** ในระบบไฟฟ้าที่มี **ความเฉื่อยต่ำ (low-inertia system)** โดยใช้แพลตฟอร์ม **Power Hardware-in-the-Loop (PHIL)** ซึ่งสามารถจำลองสภาพกริดจริงในห้องปฏิบัติการได้อย่างแม่นยำ
   
   
   ทีมวิจัยได้นำอินเวอร์เตอร์เชิงพาณิชย์จากผู้ผลิตหลายรายมาทดสอบเชื่อมต่อเข้ากับระบบจำลองที่ประกอบด้วยแหล่งจ่ายและโหลดหลายรูปแบบ เพื่อวิเคราะห์การตอบสนองของอินเวอร์เตอร์ทั้งสองประเภทต่อเหตุการณ์สำคัญ เช่น  
   - การเปลี่ยนแปลงของโหลด (load variation)  
   - การสูญเสียแหล่งจ่ายบางส่วน (generation trip)  
   - และเหตุการณ์การรบกวนทางไฟฟ้า (disturbance)

   **สามารถสรุปผลลัพธ์ได้ดังนี้** 
   
   1. **GFL สามารถตอบสนองต่อการเปลี่ยนโหลดได้เร็ว** เนื่องจากควบคุมด้วยโหมดกระแส (current control mode)  
   2. **เมื่อโหลดเปลี่ยนฉับพลัน แรงดันจะตกชั่วคราว** ก่อนที่ระบบจะกลับเข้าสู่สภาวะสมดุล  
   3. **ในระบบ low-inertia** GFL เพียงอย่างเดียวไม่สามารถรักษาเสถียรภาพความถี่ได้ดีเท่า GFM  
   4. **GFL มีความเสถียรด้านกระแสสูงกว่า** และสามารถรักษากำลังส่งออกคงที่ได้แม่นยำ  
   5. **ต้นทุนการควบคุมและการติดตั้งของ GFL ต่ำกว่า GFM** ทำให้เหมาะกับระบบที่ยังมีกริดหลักรองรับอยู่  
   6. **ในการใช้งานกับกริดอ่อน (weak grid)** หากไม่ได้ปรับ damping ที่เหมาะสมอาจเกิดอาการสั่น (oscillation) ได้  

   จากการทดลองพบว่า **Grid-Following Inverter (GFL)** มีความสามารถในการตอบสนองแบบรวดเร็วและมีประสิทธิภาพสูงในการควบคุมกระแส จึงเหมาะสำหรับการจ่ายพลังงานเข้าสู่กริดที่มีแรงดันและความถี่อ้างอิงชัดเจน เช่น ระบบที่ยังมี synchronous generator หรือ GFM ทำหน้าที่หลัก อย่างไรก็ตาม ในระบบที่มีความเฉื่อยน้อยมากหรือไม่มี   แหล่งกำหนดแรงดันที่มั่นคง GFL จะไม่สามารถรักษาเสถียรภาพของความถี่ได้เพียงลำพัง แต่เมื่อใช้งานร่วมกับ GFM จะสามารถเพิ่มความยืดหยุ่นของระบบและรักษาความมั่นคงของแรงดันและความถี่ได้อย่างมีประสิทธิภาพ กล่าวโดยสรุป GFL จึงไม่ได้ด้อยกว่าเสมอไป แต่มีจุดแข็งเฉพาะตัวในด้าน **ความเร็วในการตอบสนอง, ความแม่นยำของการควบคุมกำลัง, และความคุ้มค่าทางเศรษฐกิจ** ซึ่งทำให้ยังคงเป็นองค์ประกอบสำคัญของระบบไฟฟ้ายุคพลังงานหมุนเวียน โดยเฉพาะในระบบที่ยังพึ่งพากริดหลักหรือมีการออกแบบร่วมกับ GFM อย่างเหมาะสม

</p>



## 5. บทสรุป  

**Grid-Following Inverter (GFL)** คืออินเวอร์เตอร์ที่ทำงานโดยการ ตามแรงดันและความถี่ของกริดที่มีอยู่ ไม่สามารถสร้างเงื่อนไขของกริดเองได้ จึงต้องพึ่งพา synchronous generator หรือ grid-forming inverter ที่ทำหน้าที่หลักในระบบ 

อย่างไรก็ตาม GFL มีข้อดีคือสามารถทำให้พลังงานหมุนเวียน เช่น PV และ Wind เชื่อมต่อเข้ากับระบบไฟฟ้าได้อย่างมีประสิทธิภาพและเสถียร โดยเฉพาะในระบบที่มีกริดหลักแข็งแรงอยู่แล้ว จึงถือเป็นหัวใจสำคัญของระบบไฟฟ้ายุคพลังงานสะอาดในปัจจุบัน

### อ้างอิง

- Kenyon, R., Sajadi, A., Hoke, A., & Hodge, B.-M. (2021). Open-Source PSCAD Grid-Following and Grid-Forming Inverters and a Benchmark for Zero-Inertia Power System Simulations: Preprint. Paper presented at 2021 IEEE Kansas Power and Energy Conference (KPEC).
- H. Kikusato et al., “Performance evaluation of grid-following and grid-forming inverters on frequency stability in low-inertia power systems by power hardware-in-the-loop testing,” Energy Reports, vol. 9, pp. 381–392, Mar. 2023, doi: 10.1016/j.egyr.2022.10.434.
- ATTOU N., ZIDI S-A., HADJERI., KHATIR M. “A Control Design of Grid-Forming and Grid-Following Inverters with a Seamless Transition in Microgrid”, in Electrotehnica, Electronica, Automatica (EEA), 2023, vol. 71, no. 2, pp. 10-18, ISSN 1582-5175.

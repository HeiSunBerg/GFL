# Grid-Following Inverter (GFL): บทบาทสำคัญในการบูรณาการพลังงานหมุนเวียน  

---

## 1. ปัญหาก่อนการมาถึงของ Grid-Following Inverter  

ก่อนที่จะมีการพัฒนาอินเวอร์เตอร์ประเภท Grid-Following (GFL) ระบบไฟฟ้ากำลังพึ่งพาเครื่องจักรกลไฟฟ้าแบบดั้งเดิม เช่น **Synchronous Generator (SG)** เป็นตัวหลักในการผลิตพลังงานไฟฟ้า เครื่องกำเนิดเหล่านี้ไม่เพียงแต่สร้างกำลังไฟฟ้าเท่านั้น แต่ยังมีคุณสมบัติสำคัญคือสามารถ **กำหนดความถี่และแรงดันของระบบ** ได้โดยตรง ทำให้ระบบไฟฟ้ามีเสถียรภาพโดยธรรมชาติ  

แต่เมื่อโลกเริ่มหันมาใช้ **พลังงานหมุนเวียน (Renewable Energy)** อย่างโซลาร์เซลล์และกังหันลม ปัญหาหลักที่เกิดขึ้นคือ แหล่งพลังงานเหล่านี้ไม่สามารถเชื่อมต่อเข้ากับระบบไฟฟ้าได้โดยตรง เนื่องจากกำลังไฟฟ้าที่ผลิตออกมามีความผันผวน ขึ้นอยู่กับสภาพอากาศ แสงแดด และความเร็วลม  

อีกทั้งอุปกรณ์แปลงไฟที่จำเป็นคือ **Power Electronics (อินเวอร์เตอร์)** นั้น ไม่ได้มีคุณสมบัติ “สร้างความถี่และแรงดัน” ได้เหมือน synchronous machine อินเวอร์เตอร์เพียงอย่างเดียวจึงไม่สามารถกำหนดจังหวะ (synchronization) ของระบบได้ หากไม่มีกริดหลักอยู่ก่อนแล้ว  

ดังนั้น หากต้องการให้โซลาร์ฟาร์มหรือวินด์ฟาร์มสามารถส่งไฟฟ้าเข้าสู่ระบบได้อย่างราบรื่น จึงจำเป็นต้องมี **กลไกควบคุมที่ทำให้อินเวอร์เตอร์สามารถ “ตาม” กริดที่มีอยู่** ได้อย่างถูกต้อง และนี่คือที่มาของ **Grid-Following Inverter (GFL)**  

---

## 2. Grid-Following Inverter คืออะไร?  

<img src="Fig%20material/GFL_overview.png" alt="Diagram" width="700">

**Grid-Following Inverter (GFL)** เป็นกลยุทธ์การควบคุมที่ใช้กับอินเวอร์เตอร์ในระบบผลิตไฟฟ้าจากพลังงานหมุนเวียน เช่น **โซลาร์เซลล์ (PV), กังหันลม (Wind Turbine) หรือ ระบบกักเก็บพลังงานด้วยแบตเตอรี่ (Battery Energy Storage)** อินเวอร์เตอร์เหล่านี้จะทำงานโดยการ ซิงโครไนซ์ (synchronize) ตัวเองกับกริดที่มีอยู่ 

คุณลักษณะหลักของ GFL ได้แก่:  

- อินเวอร์เตอร์จะปรับแรงดันและความถี่ให้อ้างอิงตามกริดที่เชื่อมต่อ ณ **จุดเชื่อมต่อร่วม (Point of Common Coupling: PCC)**
- ทำหน้าที่เสมือน **แหล่งจ่ายกระแส (Current Source)** ที่พึ่งพาความเสถียรและสัญญาณควบคุมจากกริด  
- **เหมาะกับระบบที่ยังคงมี synchronous generator หรือ Grid-Forming device อยู่** เพราะอินเวอร์เตอร์เพียงอย่างเดียวไม่สามารถกำหนดจังหวะการทำงานของระบบได้  
- **ใช้กันแพร่หลาย**: อินเวอร์เตอร์สำหรับโซลาร์รูฟท็อป โซลาร์ฟาร์ม หรือวินด์ฟาร์ม ส่วนใหญ่เป็น GFL เนื่องจากมีต้นทุนต่ำและโครงสร้างควบคุมที่เข้าใจง่าย  

ดังนั้น Grid-Following Inverter จึงเหมาะสมกับระบบที่ยังคงมีแหล่งผลิตไฟฟ้าหลักอย่าง synchronous machine หรือ grid-forming inverter เป็นตัวกำหนดแรงดันและความถี่  

---

## 3. หลักการควบคุมของ GFL  

![Grid-Following Inverter control diagram](Fig%20material/GFL%20diagram.png)
หลักการทำงานของ Grid-Following Inverter มักอธิบายผ่านโครงสร้างการควบคุม (control structure) ที่แบ่งออกเป็น 3 ชั้นหลัก ๆ ดังนี้:  

1. **การตรวจจับเฟสด้วย Phase-Locked Loop (PLL)**  
   - PLL มีหน้าที่ตรวจจับมุมเฟสและความถี่ของแรงดันกริดแบบเรียลไทม์  
   - ทำให้มั่นใจว่าอินเวอร์เตอร์จะจ่ายไฟออกมาในเฟสเดียวกับแรงดันของกริด  
   - หากไม่มี PLL อินเวอร์เตอร์อาจฉีดกำลังไฟฟ้าในเฟสที่ผิดพลาด ทำให้เกิดการสั่นหรือการปฏิเสธการเชื่อมต่อ  

2. **วงจรควบคุมกำลัง (Outer Control Loop)**

<img src="Fig%20material/Power_control_diagram.png" alt="Diagram" width="600">
   กำลังไฟฟ้าจริงและกำลังรีแอกทีฟสามารถคำนวณบนแกน dq ผ่านสมการ
   <p>
      $$
      P^* = \frac{3}{2}(V_d I_d+V_q I_q) \quad Q^* = \frac{3}{2}(V_q I_d- V_d I_q)
      $$
   </p>
   โดยที่:

   - $P^* ,Q^*$ = ค่ากำลังจริงและกำลังรัแอกทีฟของระบบ
   - $V_{dq},I_{dq}$ = แรงดันและกรแสบนแกน dq

   จากกำลังที่วัดได้จะเปลี่ยนเป็นกระแสอ้างอิงบนแกน dq ผ่านสมการ
   <p>
      $$
      I_{d_{ref}} = P_{ref}-P^* \quad I_{q_{ref}} = Q_{ref}-Q^*
      $$
   </p>
   โดยที่:

   - $P_{ref},Q_{ref}$ = ค่ากำลังจริงและกำลังรีแอกทีฟอ้างอิง
   - $I_{d_{ref}},I_{q_{ref}}$ = ค่ากระแสอ้างอิงบนแกน dq
   ผู้ควบคุมสามารถกำหนดค่าการส่งออก เช่น ต้องการจ่ายพลังงานจริงสูงสุด (จากแสงอาทิตย์) และรักษา Q = 0 หรือใช้ Q เพื่อสนับสนุนแรงดันในระบบ  

4. **วงจรควบคุมกระแส (Inner Control Loop)**
<img src="Fig%20material/GFL_Current_loop.png" alt="Diagram" width="600">
   อินเวอร์เตอร์ควบคุมกระแสให้อยู่ตามค่าที่ได้จาก Power Control loop โดยกระแสจะถูกแปลงไปอยู่ในแกน dqเพื่อความสะดวกในการควบคุม โดยแกน d มักใช้ควบคุมกำลังจริง (P) และแกน q มักใช้ควบคุมกำลังรีแอกทีฟ (Q)โดยจะคำนวณได้จากสมการ:
   <p>
      $$
      U_d=(V_d+(I_{d_{ref}}-I_d)*(K_pd+K_id/s)-I_q\omega L) \quad U_q=(V_q+(I_{q_{ref}}-I_q)*(K_pq+K_iq/s)-I_d\omega L)
      $$
   </p>
   โดยที่:
   
   - $K_{pd}, K_{id}, K_{pq}, K_{iq}$ = ค่าพารามิเตอร์ของ PI controller
   - $I_q\omega L,I_d\omega L$ = ค่า cross-coupling term ที่ถูกชดเชย
 
   หลังจากนั้นจึงถูกส่งต่อไปยังวงจร PWM เพื่อสร้างสัญญาณควบคุมสวิตช์ของอินเวอร์เตอร์  

กล่าวโดยรวม **ลำดับการควบคุมคือ**: PLL → Outer Loop (P/Q) → Inner Current Loop → PWM  

---

## 4. ปัญหาที่ GFL สามารถแก้ไขได้  

Grid-Following Inverter แม้จะไม่สามารถสร้างแรงดันและความถี่เองได้ แต่ก็มีบทบาทสำคัญในการบูรณาการพลังงานหมุนเวียนและแก้ปัญหาหลายด้าน ได้แก่:  

- **การเชื่อมต่อแหล่งพลังงานหมุนเวียนกับกริดที่มีอยู่**  
  ทำให้โซลาร์ฟาร์มและวินด์ฟาร์มสามารถป้อนพลังงานเข้าสู่ระบบไฟฟ้าโดยไม่รบกวนเสถียรภาพของระบบ  

- **การควบคุมกำลังไฟฟ้าแบบยืดหยุ่น**  
  สามารถกำหนดได้ว่าจะส่ง P เท่าใดเพื่อผลิตพลังงานเข้าสู่ระบบ และปรับ Q เพื่อช่วยควบคุมแรงดันในระบบได้  

- **การสนับสนุนเสถียรภาพของกริด**  
  เช่น ปรับ Power Factor, ลดความเพี้ยนของแรงดัน (voltage distortion) และรองรับการเปลี่ยนแปลงโหลดอย่างฉับพลัน  

- **ต้นทุนต่ำและมีเทคโนโลยีที่พัฒนาแล้ว**  
  จึงเป็นโซลูชันที่ใช้ได้ทันทีในปัจจุบัน ไม่ต้องลงทุนโครงสร้างใหม่มากนัก  

---

## 5. บทสรุป  

**Grid-Following Inverter (GFL)** คืออินเวอร์เตอร์ที่ทำงานโดยการ ตามแรงดันและความถี่ของกริดที่มีอยู่ ไม่สามารถสร้างเงื่อนไขของกริดเองได้ จึงต้องพึ่งพา synchronous generator หรือ grid-forming inverter ที่ทำหน้าที่หลักในระบบ 

อย่างไรก็ตาม GFL มีข้อดีคือสามารถทำให้พลังงานหมุนเวียน เช่น PV และ Wind เชื่อมต่อเข้ากับระบบไฟฟ้าได้อย่างมีประสิทธิภาพและเสถียร โดยเฉพาะในระบบที่มีกริดหลักแข็งแรงอยู่แล้ว จึงถือเป็นหัวใจสำคัญของระบบไฟฟ้ายุคพลังงานสะอาดในปัจจุบัน
